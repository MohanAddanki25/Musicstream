<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOUNDWAAVE |MuiscStreaming</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <style>
        :root {
            --primary-color: #1db954;
            --dark-bg: #121212;
            --light-bg: #181818;
            --lighter-bg: #282828;
            --light-text: #ffffff;
            --gray-text: #b3b3b3;
            --dark-text: #535353;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background-color: var(--dark-bg);
            color: var(--light-text);
            overflow: hidden;
        }

        .container {
            display: grid;
            grid-template-columns: 240px 1fr;
            grid-template-rows: 1fr 90px;
            height: 100vh;
        }

        /* Sidebar Styles */
        .sidebar {
            background-color: #000;
            padding: 24px;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .logo {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
        }

        .logo i {
            font-size: 24px;
            margin-right: 10px;
            color: var(--primary-color);
        }

        .logo span {
            font-size: 20px;
            font-weight: 700;
        }

        nav ul {
            list-style: none;
            margin-bottom: 24px;
        }

        nav li {
            margin-bottom: 12px;
        }

        nav a {
            color: var(--gray-text);
            text-decoration: none;
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            transition: color 0.3s;
        }

        nav a i {
            margin-right: 16px;
            font-size: 20px;
        }

        nav a:hover, nav li.active a {
            color: var(--light-text);
        }

        .playlists h3 {
            color: var(--gray-text);
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 16px;
        }

        .playlists ul {
            list-style: none;
        }

        .playlists li {
            margin-bottom: 12px;
        }

        .playlists a {
            color: var(--gray-text);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: color 0.3s;
        }

        .playlists a:hover {
            color: var(--light-text);
        }

        /* Main Content Styles */
        .main-content {
            background: linear-gradient(to bottom, #1e1e1e, #121212);
            padding: 0 32px;
            overflow-y: auto;
        }

        header {
            padding: 24px 0;
            position: sticky;
            top: 0;
            background: linear-gradient(to bottom, rgba(30, 30, 30, 0.9), rgba(30, 30, 30, 0.7));
            backdrop-filter: blur(10px);
            z-index: 10;
        }

        .header-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-buttons button {
            background-color: rgba(0, 0, 0, 0.7);
            border: none;
            color: var(--gray-text);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            margin-right: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-buttons button:hover {
            color: var(--light-text);
            background-color: rgba(0, 0, 0, 0.9);
        }

        .user-profile {
            display: flex;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 4px 12px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .user-profile:hover {
            background-color: rgba(0, 0, 0, 0.9);
        }

        .user-profile img {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .user-profile span {
            font-size: 14px;
            font-weight: 600;
        }

        /* Home Page Specific Styles */
        .welcome-message {
            margin: 24px 0 32px;
        }

        .welcome-message h1 {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .section-title {
            font-size: 24px;
            font-weight: 700;
            margin: 32px 0 16px;
        }

        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .card {
            background-color: var(--light-bg);
            padding: 16px;
            border-radius: 6px;
            transition: all 0.3s;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
        }

        .card:hover {
            background-color: var(--lighter-bg);
            transform: translateY(-5px);
        }

        .card-image {
            width: 100%;
            aspect-ratio: 1;
            margin-bottom: 16px;
            position: relative;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
        }

        .card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 4px;
        }

        .card-play-btn {
            position: absolute;
            bottom: 8px;
            right: 8px;
            background-color: var(--primary-color);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: translateY(8px);
            transition: all 0.3s;
        }

        .card:hover .card-play-btn {
            opacity: 1;
            transform: translateY(0);
        }

        .card-play-btn i {
            color: #000;
            font-size: 16px;
        }

        .card-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .card-artist {
            font-size: 14px;
            color: var(--gray-text);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .card-duration {
            font-size: 12px;
            color: var(--gray-text);
            margin-top: 8px;
        }

        .recently-played {
            margin-bottom: 40px;
        }

        /* Player Styles */
        .player {
            grid-column: 1 / 3;
            background-color: var(--lighter-bg);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 16px;
            z-index: 10;
        }

        .player-song-info {
            display: flex;
            align-items: center;
            width: 300px;
        }

        .player-song-info img {
            width: 56px;
            height: 56px;
            margin-right: 16px;
        }

        .song-meta h4 {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 4px;
        }

        .song-meta p {
            font-size: 12px;
            color: var(--gray-text);
        }

        .like-btn {
            background: none;
            border: none;
            color: var(--gray-text);
            font-size: 16px;
            margin-left: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .like-btn:hover {
            color: var(--primary-color);
        }

        .player-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 40%;
        }

        .control-buttons {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }

        .control-buttons button {
            background: none;
            border: none;
            color: var(--gray-text);
            font-size: 16px;
            margin: 0 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .control-buttons button:hover {
            color: var(--light-text);
        }

        .control-buttons .play-pause {
            background-color: var(--light-text);
            color: #000;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-buttons .play-pause:hover {
            transform: scale(1.05);
        }

        .progress-container {
            display: flex;
            align-items: center;
            width: 100%;
        }

        .progress-bar {
            flex-grow: 1;
            height: 4px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            margin: 0 8px;
            cursor: pointer;
        }

        .progress {
            height: 100%;
            width: 30%;
            background-color: var(--gray-text);
            border-radius: 2px;
            position: relative;
        }

        .progress::after {
            content: '';
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            background-color: var(--light-text);
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .progress-bar:hover .progress::after {
            opacity: 1;
        }

        .time-start, .time-end {
            font-size: 11px;
            color: var(--gray-text);
        }

        .player-extra {
            display: flex;
            align-items: center;
            width: 300px;
            justify-content: flex-end;
        }

        .player-extra button {
            background: none;
            border: none;
            color: var(--gray-text);
            font-size: 16px;
            margin-left: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .player-extra button:hover {
            color: var(--light-text);
        }

        .volume-control {
            display: flex;
            align-items: center;
            margin-left: 16px;
        }

        .volume-bar {
            width: 100px;
            height: 4px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            margin-left: 8px;
            cursor: pointer;
        }

        .volume-level {
            height: 100%;
            width: 70%;
            background-color: var(--gray-text);
            border-radius: 2px;
            position: relative;
        }

        .volume-level::after {
            content: '';
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            background-color: var(--light-text);
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .volume-bar:hover .volume-level::after {
            opacity: 1;
        }

        /* Responsive Adjustments */
        @media (max-width: 1200px) {
            .cards-container {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            }
        }

        @media (max-width: 992px) {
            .container {
                grid-template-columns: 80px 1fr;
            }
            
            .sidebar {
                padding: 24px 12px;
            }
            
            .logo span, nav a span, .playlists h3, .playlists a {
                display: none;
            }
            
            nav a i, .logo i {
                margin-right: 0;
                font-size: 24px;
            }
            
            nav li {
                text-align: center;
                margin-bottom: 24px;
            }
        }

        @media (max-width: 768px) {
            .cards-container {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
                gap: 16px;
            }
            
            .player-song-info, .player-extra {
                width: auto;
            }
            
            .player-controls {
                width: 60%;
            }
        }

        @media (max-width: 576px) {
            .main-content {
                padding: 0 16px;
            }
            
            .welcome-message h1 {
                font-size: 24px;
            }
            
            .section-title {
                font-size: 20px;
            }
            
            .cards-container {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .player {
                flex-direction: column;
                padding: 16px;
                height: auto;
            }
            
            .player-song-info {
                width: 100%;
                margin-bottom: 16px;
            }
            
            .player-controls {
                width: 100%;
                margin-bottom: 16px;
            }
            
            .player-extra {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <i class="fas fa-music"></i>
                <span>SOUNDWAAVE</span>
            </div>
            <nav>
                <ul>
                    <li class="active"><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="#mood"><i class="fas fa-music"></i> Top-Charts</a></li>
                    <li><a href="library.html"><i class="fas fa-book"></i> Your Library</a></li>
                </ul>
            </nav>
            <div class="playlists">
                <h3>PLAYLISTS</h3>
                <ul>
                    <li><a href="dev.html">DevotionalSongs</a></li>
                    <li><a href="chill.html">Chill Vibes</a></li>
                    <li><a href="trip.html">love hits</a></li>
                </ul>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="welcome-message">
                <h1>Welcome Buddy!!</h1>
            </div>

            <div class="recently-played">
                <h2 class="section-title">All Time Hits</h2>
                <div class="cards-container">
                    <!-- Song cards will be dynamically inserted here -->
                </div>
            </div>

            <div class="made-for-you" id="mood">
                <h2 class="section-title">Made for you</h2>
                <div class="cards-container">
                    <!-- Song cards will be dynamically inserted here -->
                </div>
            </div>

            <div class="popular-albums">
                <h2 class="section-title">Popular Albums</h2>
                <div class="cards-container">
                    <!-- Album cards will be dynamically inserted here -->
                </div>
            </div>

            <div class="your-playlists">
                <h2 class="section-title">Your Playlists</h2>
                <div class="cards-container">
                    <!-- Playlist cards will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <!-- Player -->
        <div class="player">
            <div class="player-song-info">
                <img src="https://cdn.vectorstock.com/i/1000v/62/55/music-icon-in-black-circle-musical-note-vector-21176255.jpg" alt="Album Cover" id="player-album-cover">
                <div class="song-meta">
                    <h4 id="player-song-title">Not Playing</h4>
                    <p id="player-song-artist">Select a song</p>
                </div>
                <button class="like-btn"><i class="far fa-heart"></i></button>
            </div>

            <div class="player-controls">
                <div class="control-buttons">
                    <button id="shuffle-btn"><i class="fas fa-random"></i></button>
                    <button id="prev-btn"><i class="fas fa-step-backward"></i></button>
                    <button class="play-pause" id="play-btn"><i class="fas fa-play"></i></button>
                    <button id="next-btn"><i class="fas fa-step-forward"></i></button>
                    <button id="repeat-btn"><i class="fas fa-redo"></i></button>
                </div>
                <div class="progress-container">
                    <span class="time-start" id="current-time">0:00</span>
                    <div class="progress-bar" id="progress-bar">
                        <div class="progress" id="progress"></div>
                    </div>
                    <span class="time-end" id="duration">0:00</span>
                </div>
            </div>

            <div class="player-extra">
                <div class="volume-control">
                    <button id="volume-btn"><i class="fas fa-volume-up"></i></button>
                    <div class="volume-bar" id="volume-bar">
                        <div class="volume-level" id="volume-level"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Music library
            const library = {
                recentlyPlayed: [
                    {
                        id: 1,
                        title: "Naatu Naatu",
                        artist: "NTR, Ram Charan",
                        album: "RRR",
                        cover: "https://upload.wikimedia.org/wikipedia/en/2/2e/Naatu_Naatu.jpg",
                        audio: "C:/Users/Mohan Addanki/Downloads/Nattu Nattu.mp3",
                        duration: ""
                    },
                    {
                        id: 2,
                        title: "Godari Gattu",
                        artist: "Ramana Gogula, Madhu Priya",
                        album: "Sankranthiki Vasthunam",
                        cover: "https://naasongs.com.co/wp-content/uploads/2025/01/Sankranthiki-Vasthunnam-Songs-Download-2025-Venkatesh-Meenakshi-Chaudhary-Aishwarya-Rajesh-1.jpg",
                        audio: "C:/Users/Mohan Addanki/Downloads/Godari Gattu.mp3",
                        duration: ""
                    },
                    {
                        id: 3,
                        title: "Ramuloo Ramulaa",
                        artist: "Allu Arjun",
                        album: "Ala Vaikuntapuramlo",
                        cover: "https://i.scdn.co/image/ab67616d0000b273ec8e1f5da18069b24fb43694",
                        audio: "C:/Users/Mohan Addanki/Downloads/Ramuloo Ramula - SenSongsMp3.Co.mp3",
                        duration: ""
                    },
                    {
                        id: 4,
                        title: "Fear Song",
                        artist: "NTR",
                        album: "",
                        cover: "https://www.naasongs.to/wp-content/uploads/2024/01/Devara-2024-All-Hail-The-Tiger.jpg",
                        audio: "C:/Users/Mohan Addanki/Downloads/Fear.mp3",
                        duration: ""
                    },
                    {
                        id: 5,
                        title: "My is Billa",
                        artist: "Prabhas",
                        album: "",
                        cover: "https://naasongs.com.co/wp-content/uploads/2018/06/Billa-2009-jpeg-300x300.jpg",
                        audio: "C:/Users/Mohan Addanki/Downloads/My Name is Billa-SenSongsMp3.Co.mp3",
                        duration: ""
                    },
                    {
                        id: 6,
                        title: "Peelings",
                        artist: "Allu Arjun, Rashmika",
                        album: "Pushpa",
                        cover: "https://c.saavncdn.com/366/Pushpa-2-The-Rule-Telugu-Telugu-2024-20241205211012-500x500.jpg",
                        audio: "C:/Users/Mohan Addanki/Downloads/Peelings.mp3",
                        duration: ""
                    }
                ],
                madeForYou: [
                    {
                        id: 7,
                        title: "Prema Velluva",
                        artist: "Sid Sriram",
                        album: "Hit 3",
                        cover: "https://a10.gaanacdn.com/gn_img/albums/XzVWRLKdqR/VWRJBBELWd/size_m.jpg",
                        audio: "C:/Users/Mohan Addanki/Downloads/Prema Velluva.mp3",
                        duration: ""
                    },
                    {
                        id: 8,
                        title: "Chuttamalle",
                        artist: "Shilpa Rao",
                        album: "Devara 1",
                        cover: "https://c.saavncdn.com/411/Chuttamalle-From-Devara-Part-1-Telugu-2024-20240805181008-500x500.jpg",
                        audio: "C:/Users/Mohan Addanki/Downloads/Chuttamalle.mp3",
                        duration: ""
                    },
                    {
                        id: 9,
                        title: "Hello Rammante",
                        artist: "Vijay Prakash",
                        album: "Orange",
                        cover: "https://c.saavncdn.com/105/Orange-Telugu-2006-20210624180302-500x500.jpg",
                        audio: "C:/Users/Mohan Addanki/Downloads/4-Hello Rammante-SenSongsMp3.Co.mp3",
                        duration: ""
                    },
                    {
                        id: 10,
                        title: "Ek Niranjan",
                        artist: "Mani Sharma, Ranjith",
                        album: "Ek Niranjan",
                        cover: "https://c.saavncdn.com/702/Ek-Niranjan-2009-500x500.jpg",
                        audio: "C:/Users/Mohan Addanki/Downloads/Ek Niranjan-SenSongsMp3.Co.mp3",
                        duration: ""
                    },
                    {
                        id: 11,
                        title: "Endhoko Pichi Pichiga",
                        artist: "N.C. Karunya",
                        album: "Chirutha",
                        cover: "https://naasongs.com.co/wp-content/uploads/2018/06/chirutha-jpeg-300x300.jpg",
                        audio: "C:/Users/Mohan Addanki/Downloads/Endhuko Pichi Pichi-SenSongsMp3.Co.mp3",
                        duration: ""
                    },
                    {
                        id: 12,
                        title: "Butta Bomma",
                        artist: "Amran Malik",
                        album: "Ala Vaikuntapuramlo",
                        cover: "https://i.scdn.co/image/ab67616d0000b27363118748c712b6ac32c0feec",
                        audio: "C:/Users/Mohan Addanki/Downloads/Buttabomma - SenSongsMp3.Co.mp3",
                        duration: ""
                    }
                ],
                popularAlbums: [
                    {
                        id: 13,
                        title: "RRR",
                        artist: "M.M. Keeravani",
                        cover: "https://upload.wikimedia.org/wikipedia/en/d/d7/RRR_Poster.jpg",
                        link: "album1.html"
                    },
                    {
                        id: 14,
                        title: "Pushpa: The Rule",
                        artist: "Devi Sri Prasad",
                        cover: "https://c.saavncdn.com/366/Pushpa-2-The-Rule-Telugu-Telugu-2024-20241205211012-500x500.jpg",
                        link: "album2.html"
                    },
                    {
                        id: 15,
                        title: "Devara Part 1",
                        artist: "Anirudh Ravichander",
                        cover: "https://www.naasongs.to/wp-content/uploads/2024/01/Devara-2024-All-Hail-The-Tiger.jpg",
                        link: "album3.html"
                    },
                    {
                        id: 16,
                        title: "Radhe Shyam",
                        artist: "Thaman S",
                        cover: "https://upload.wikimedia.org/wikipedia/en/d/d6/Radhe_Shyam_Album.jpg",
                        link: "album4.html"
                    }
                ],
                yourPlaylists: [
                    {
                        id: 18,
                        title: "Devotional Songs",
                        artist: "Various Artists",
                        cover: "https://media.istockphoto.com/id/516282892/photo/hindu-om-icon.jpg?s=612x612&w=0&k=20&c=ul81DKgsnZb8sHHZw2y4uXBAMMqiEL6AmZr0ZnJb_Co=",
                        link: "dev.html"
                    },
                    {
                        id: 19,
                        title: "Chill Vibes",
                        artist: "Various Artists",
                        cover: "https://i1.sndcdn.com/artworks-XvNuv1x8lMAdzEMU-4dILyQ-t1080x1080.jpg",
                        link: "chill.html"
                    },
                    {
                        id: 20,
                        title: "Love Hits",
                        artist: "Various Artists",
                        cover: "https://d1csarkz8obe9u.cloudfront.net/posterpreviews/love-album-cover-image-design-template-0f1279a32ef34a7a6b62599e36a8e558_screen.jpg?ts=1561544979",
                        link: "trip.html"
                    }
                ]
            };

            // Audio player setup
            const audioPlayer = new Audio();
            let currentSong = null;
            let isPlaying = false;
            let isShuffle = false;
            let isRepeat = false;
            let currentPlaylist = [];
            let currentSongIndex = 0;

            // DOM elements
            const playerAlbumCover = document.getElementById('player-album-cover');
            const playerSongTitle = document.getElementById('player-song-title');
            const playerSongArtist = document.getElementById('player-song-artist');
            const playBtn = document.getElementById('play-btn');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const shuffleBtn = document.getElementById('shuffle-btn');
            const repeatBtn = document.getElementById('repeat-btn');
            const progressBar = document.getElementById('progress-bar');
            const progress = document.getElementById('progress');
            const currentTimeEl = document.getElementById('current-time');
            const durationEl = document.getElementById('duration');
            const volumeBtn = document.getElementById('volume-btn');
            const volumeBar = document.getElementById('volume-bar');
            const volumeLevel = document.getElementById('volume-level');

            // Initialize volume
            audioPlayer.volume = 0.7;
            volumeLevel.style.width = `${audioPlayer.volume * 100}%`;

            // Render songs, albums, and playlists
            function renderSongs() {
                renderSection('recently-played .cards-container', library.recentlyPlayed);
                renderSection('made-for-you .cards-container', library.madeForYou);
                renderAlbums('popular-albums .cards-container', library.popularAlbums);
                renderPlaylists('your-playlists .cards-container', library.yourPlaylists);
            }

            function renderSection(selector, songs) {
                const container = document.querySelector(`.${selector}`);
                container.innerHTML = '';
                
                songs.forEach(song => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.dataset.id = song.id;
                    card.innerHTML = `
                        <div class="card-image">
                            <img src="${song.cover}" alt="Album Cover">
                            <div class="card-play-btn">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                        <div class="card-title">${song.title}</div>
                        <div class="card-artist">${song.artist}</div>
                        <div class="card-duration">${song.duration}</div>
                    `;
                    container.appendChild(card);
                });
            }

            function renderAlbums(selector, albums) {
                const container = document.querySelector(`.${selector}`);
                container.innerHTML = '';
                
                albums.forEach(album => {
                    const card = document.createElement('a');
                    card.className = 'card';
                    card.href = album.link;
                    card.dataset.id = album.id;
                    card.innerHTML = `
                        <div class="card-image">
                            <img src="${album.cover}" alt="Album Cover">
                            <div class="card-play-btn">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                        <div class="card-title">${album.title}</div>
                        <div class="card-artist">${album.artist}</div>
                    `;
                    container.appendChild(card);
                });
            }

            function renderPlaylists(selector, playlists) {
                const container = document.querySelector(`.${selector}`);
                container.innerHTML = '';
                
                playlists.forEach(playlist => {
                    const card = document.createElement('a');
                    card.className = 'card';
                    card.href = playlist.link;
                    card.dataset.id = playlist.id;
                    card.innerHTML = `
                        <div class="card-image">
                            <img src="${playlist.cover}" alt="Playlist Cover">
                            <div class="card-play-btn">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                        <div class="card-title">${playlist.title}</div>
                        <div class="card-artist">${playlist.artist}</div>
                    `;
                    container.appendChild(card);
                });
            }

            // Play song function
            function playSong(song, playlist) {
                currentSong = song;
                currentPlaylist = playlist || [song];
                currentSongIndex = currentPlaylist.findIndex(s => s.id === song.id);
                
                // Update player UI
                playerAlbumCover.src = song.cover;
                playerSongTitle.textContent = song.title;
                playerSongArtist.textContent = song.artist;
                durationEl.textContent = song.duration;
                
                // Set audio source
                audioPlayer.src = song.audio;
                audioPlayer.play()
                    .then(() => {
                        isPlaying = true;
                        playBtn.querySelector('i').classList.remove('fa-play');
                        playBtn.querySelector('i').classList.add('fa-pause');
                    })
                    .catch(error => {
                        console.error('Error playing song:', error);
                    });
            }

            // Toggle play/pause
            function togglePlayPause() {
                if (isPlaying) {
                    audioPlayer.pause();
                    playBtn.querySelector('i').classList.remove('fa-pause');
                    playBtn.querySelector('i').classList.add('fa-play');
                } else {
                    if (currentSong) {
                        audioPlayer.play();
                        playBtn.querySelector('i').classList.remove('fa-play');
                        playBtn.querySelector('i').classList.add('fa-pause');
                    } else {
                        // If no song is selected, play the first song
                        playSong(library.recentlyPlayed[0], library.recentlyPlayed);
                    }
                }
                isPlaying = !isPlaying;
            }

            // Play next song
            function playNext() {
                if (currentPlaylist.length === 0) return;
                
                if (isShuffle) {
                    currentSongIndex = Math.floor(Math.random() * currentPlaylist.length);
                } else {
                    currentSongIndex = (currentSongIndex + 1) % currentPlaylist.length;
                }
                
                playSong(currentPlaylist[currentSongIndex], currentPlaylist);
            }

            // Play previous song
            function playPrev() {
                if (currentPlaylist.length === 0) return;
                
                if (isShuffle) {
                    currentSongIndex = Math.floor(Math.random() * currentPlaylist.length);
                } else {
                    currentSongIndex = (currentSongIndex - 1 + currentPlaylist.length) % currentPlaylist.length;
                }
                
                playSong(currentPlaylist[currentSongIndex], currentPlaylist);
            }

            // Update progress bar
            function updateProgress() {
                const { currentTime, duration } = audioPlayer;
                const progressPercent = (currentTime / duration) * 100;
                progress.style.width = `${progressPercent}%`;
                
                // Update time display
                const currentMinutes = Math.floor(currentTime / 60);
                const currentSeconds = Math.floor(currentTime % 60);
                currentTimeEl.textContent = `${currentMinutes}:${currentSeconds < 10 ? '0' + currentSeconds : currentSeconds}`;
            }

            // Set progress
            function setProgress(e) {
                const width = this.clientWidth;
                const clickX = e.offsetX;
                const duration = audioPlayer.duration;
                audioPlayer.currentTime = (clickX / width) * duration;
            }

            // Set volume
            function setVolume(e) {
                const width = this.clientWidth;
                const clickX = e.offsetX;
                const volume = clickX / width;
                audioPlayer.volume = volume;
                volumeLevel.style.width = `${volume * 100}%`;
                
                // Update volume icon
                if (volume === 0) {
                    volumeBtn.querySelector('i').classList.remove('fa-volume-up', 'fa-volume-down');
                    volumeBtn.querySelector('i').classList.add('fa-volume-mute');
                } else if (volume < 0.5) {
                    volumeBtn.querySelector('i').classList.remove('fa-volume-up', 'fa-volume-mute');
                    volumeBtn.querySelector('i').classList.add('fa-volume-down');
                } else {
                    volumeBtn.querySelector('i').classList.remove('fa-volume-down', 'fa-volume-mute');
                    volumeBtn.querySelector('i').classList.add('fa-volume-up');
                }
            }

            // Toggle shuffle
            function toggleShuffle() {
                isShuffle = !isShuffle;
                shuffleBtn.style.color = isShuffle ? 'var(--primary-color)' : 'var(--gray-text)';
            }

            // Toggle repeat
            function toggleRepeat() {
                isRepeat = !isRepeat;
                repeatBtn.style.color = isRepeat ? 'var(--primary-color)' : 'var(--gray-text)';
                audioPlayer.loop = isRepeat;
            }

            // Event listeners
            playBtn.addEventListener('click', togglePlayPause);
            prevBtn.addEventListener('click', playPrev);
            nextBtn.addEventListener('click', playNext);
            shuffleBtn.addEventListener('click', toggleShuffle);
            repeatBtn.addEventListener('click', toggleRepeat);
            progressBar.addEventListener('click', setProgress);
            volumeBar.addEventListener('click', setVolume);

            audioPlayer.addEventListener('timeupdate', updateProgress);
            audioPlayer.addEventListener('ended', () => {
                if (!isRepeat) {
                    playNext();
                }
            });
            audioPlayer.addEventListener('loadedmetadata', () => {
                const durationMinutes = Math.floor(audioPlayer.duration / 60);
                const durationSeconds = Math.floor(audioPlayer.duration % 60);
                durationEl.textContent = `${durationMinutes}:${durationSeconds < 10 ? '0' + durationSeconds : durationSeconds}`;
            });

            // Card click events for songs only
            document.addEventListener('click', function(e) {
                const card = e.target.closest('.card');
                if (!card || card.parentElement.classList.contains('popular-albums') || card.parentElement.classList.contains('your-playlists')) return;
                
                const cardId = parseInt(card.dataset.id);
                let song = null;
                let playlist = null;
                
                // Find the song in recentlyPlayed or madeForYou
                for (const section of ['recentlyPlayed', 'madeForYou']) {
                    const foundSong = library[section].find(s => s.id === cardId);
                    if (foundSong) {
                        song = foundSong;
                        playlist = library[section];
                        break;
                    }
                }
                
                if (song) {
                    playSong(song, playlist);
                }
            });

            // Initialize the app
            renderSongs();
        });
    </script>
</body>
</html>